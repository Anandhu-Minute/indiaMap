// src/components/IndiaAnimatedMap.jsx
import React, { useEffect, useRef, useState } from "react";
import "./IndiaAnimatedMap.css";

export default function IndiaAnimatedMap() {
  const [showText, setShowText] = useState(false);
  const svgRef = useRef(null);

  useEffect(() => {
    const paths = svgRef.current?.querySelectorAll("path");
    if (!paths) return;

    paths.forEach((path, idx) => {
      const length = path.getTotalLength();
      path.style.strokeDasharray = length;
      path.style.strokeDashoffset = length;
      path.style.stroke = "#ffffff";
      path.style.fill = "none";
      path.style.strokeWidth = "2";
      path.style.animation = `draw 10s ease forwards`;
      path.style.animationDelay = `${idx * 0.2}s`;
    });

    const totalDuration = 5 + paths.length * 0.2;
    const timer = setTimeout(() => setShowText(true), totalDuration * 1000);
    return () => clearTimeout(timer);
  }, []);

  return (
    <div className="map-container">
      <div className="svg-wrapper" ref={svgRef}>
       <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1920px" height="1920px" xmlns:xlink="http://www.w3.org/1999/xlink">
<g><path d="M -0.5,-0.5 C 639.5,-0.5 1279.5,-0.5 1919.5,-0.5C 1919.5,639.5 1919.5,1279.5 1919.5,1919.5C 1279.5,1919.5 639.5,1919.5 -0.5,1919.5C -0.5,1279.5 -0.5,639.5 -0.5,-0.5 Z"/></g>
<g><path d="M 959.5,216.5 C 996.511,214.906 1030.84,223.406 1062.5,242C 1086.1,261.716 1107.1,283.883 1125.5,308.5C 1133,319.5 1140.5,330.5 1148,341.5C 1173.12,394.992 1207.28,442.158 1250.5,483C 1258.38,489.88 1266.55,496.38 1275,502.5C 1270.81,646.305 1314.81,772.639 1407,881.5C 1423.91,936.973 1438.91,992.973 1452,1049.5C 1469.83,1076.67 1492.33,1099.17 1519.5,1117C 1548.24,1135.39 1578.58,1150.72 1610.5,1163C 1682.68,1201.85 1741.51,1255.35 1787,1323.5C 1802.14,1348.24 1813.81,1374.57 1822,1402.5C 1829.78,1433.04 1832.44,1464.04 1830,1495.5C 1829.9,1501.63 1829.07,1507.63 1827.5,1513.5C 1815.74,1462.84 1796.41,1415.5 1769.5,1371.5C 1769.09,1379.13 1767.59,1386.46 1765,1393.5C 1757.2,1366.59 1746.53,1340.92 1733,1316.5C 1726.92,1306.42 1719.42,1297.59 1710.5,1290C 1709.67,1289.31 1709,1289.48 1708.5,1290.5C 1713.99,1306.12 1718.16,1322.12 1721,1338.5C 1725.62,1359.88 1725.62,1381.22 1721,1402.5C 1718.23,1409.04 1714.23,1414.71 1709,1419.5C 1703.59,1402.52 1698.93,1385.19 1695,1367.5C 1688.51,1344.85 1680.51,1322.85 1671,1301.5C 1666.8,1295.76 1663.13,1289.76 1660,1283.5C 1657.17,1280.67 1654.33,1277.83 1651.5,1275C 1648.93,1272.71 1645.93,1271.55 1642.5,1271.5C 1641.06,1284.78 1640.39,1298.11 1640.5,1311.5C 1641,1327.5 1641.17,1343.5 1641,1359.5C 1635.41,1323.42 1625.41,1288.75 1611,1255.5C 1604.5,1241.11 1595,1228.94 1582.5,1219C 1570.23,1210.67 1557.23,1209.34 1543.5,1215C 1528.47,1229.03 1516.97,1245.53 1509,1264.5C 1499.33,1287.17 1493.33,1310.84 1491,1335.5C 1489.84,1357.81 1489.18,1380.15 1489,1402.5C 1471.61,1346.2 1468.94,1289.2 1481,1231.5C 1483.24,1225.79 1485.24,1220.12 1487,1214.5C 1472.83,1235.01 1454.66,1250.84 1432.5,1262C 1425.75,1265.19 1418.75,1266.35 1411.5,1265.5C 1425.35,1246.79 1436.85,1226.79 1446,1205.5C 1451.75,1190.82 1452.91,1175.82 1449.5,1160.5C 1447.93,1159.37 1446.26,1159.2 1444.5,1160C 1401.01,1180.99 1368.68,1213.16 1347.5,1256.5C 1346.83,1257.83 1346.17,1257.83 1345.5,1256.5C 1354.44,1220.01 1369.94,1186.67 1392,1156.5C 1405.21,1140.61 1420.55,1127.28 1438,1116.5C 1440.58,1100.41 1433.74,1093.58 1417.5,1096C 1380.5,1120.33 1349,1150.5 1323,1186.5C 1285.12,1242.65 1260.12,1304.31 1248,1371.5C 1244.6,1392.69 1242.27,1414.03 1241,1435.5C 1228.51,1386.9 1224.84,1337.57 1230,1287.5C 1231.48,1276.58 1234.64,1266.25 1239.5,1256.5C 1239.17,1256.17 1238.83,1255.83 1238.5,1255.5C 1179.04,1281.48 1126.54,1317.48 1081,1363.5C 1074.33,1371.5 1067.67,1379.5 1061,1387.5C 1042.52,1413.72 1030.52,1442.72 1025,1474.5C 1025.6,1458.19 1028.26,1442.19 1033,1426.5C 1048.79,1376.58 1074.12,1332.25 1109,1293.5C 1160.32,1239.91 1219.82,1197.74 1287.5,1167C 1328.24,1141.26 1360.41,1107.43 1384,1065.5C 1399.1,1035.35 1405.76,1003.35 1404,969.5C 1382.78,918.623 1345.28,886.79 1291.5,874C 1278.95,866.893 1267.28,858.559 1256.5,849C 1251.21,843.718 1246.71,837.885 1243,831.5C 1216.65,837.97 1192.15,833.803 1169.5,819C 1159.38,812.041 1150.38,803.874 1142.5,794.5C 1129.23,788.18 1115.23,784.013 1100.5,782C 1082.81,781.156 1065.14,781.489 1047.5,783C 1031.57,786.119 1015.74,789.619 1000,793.5C 999.5,793.167 999,792.833 998.5,792.5C 1008.78,779.371 1021.78,770.204 1037.5,765C 1057.4,758.91 1077.73,756.91 1098.5,759C 1118.11,760.321 1137.11,764.321 1155.5,771C 1171.91,789.537 1191.91,802.537 1215.5,810C 1219.11,810.884 1222.78,811.384 1226.5,811.5C 1234.55,810.659 1242.55,809.826 1250.5,809C 1256.74,818.906 1264.4,827.572 1273.5,835C 1292.71,849.772 1313.05,862.772 1334.5,874C 1336.88,874.511 1339.21,875.178 1341.5,876C 1349.18,880.054 1357.02,883.887 1365,887.5C 1365.5,887.167 1366,886.833 1366.5,886.5C 1357.59,871.35 1349.76,855.683 1343,839.5C 1317.33,790.497 1290.33,742.164 1262,694.5C 1250.3,676.813 1238.64,659.146 1227,641.5C 1214.48,623.993 1200.64,607.493 1185.5,592C 1186.17,591.333 1186.83,591.333 1187.5,592C 1202.77,605.985 1220.77,612.985 1241.5,613C 1245.69,612.283 1249.52,610.783 1253,608.5C 1253.13,592.824 1250.8,577.49 1246,562.5C 1239.83,542.11 1230.83,523.11 1219,505.5C 1216.2,501.701 1213.04,498.201 1209.5,495C 1183.24,478.115 1158.74,458.949 1136,437.5C 1127.41,418.242 1113.91,403.409 1095.5,393C 1088.8,390.224 1081.8,388.391 1074.5,387.5C 1082.86,377.484 1093.52,371.317 1106.5,369C 1112.5,368.667 1118.5,368.333 1124.5,368C 1093.84,327.21 1057.51,292.544 1015.5,264C 995.563,252.036 974.23,243.37 951.5,238C 940.146,237.425 928.812,236.591 917.5,235.5C 929.305,224.263 943.305,217.93 959.5,216.5 Z"/></g>
<g><path d="M 98.5,1647.5 C 99.0613,1598.49 108.561,1551.15 127,1505.5C 151.163,1446.84 181.83,1391.84 219,1340.5C 279.413,1266.07 352.246,1207.23 437.5,1164C 460.494,1150.35 476.994,1131.18 487,1106.5C 490.438,1093.4 490.271,1080.4 486.5,1067.5C 469.275,1056.09 458.775,1040.09 455,1019.5C 452.419,1000.23 453.752,981.229 459,962.5C 469.927,927.813 485.761,895.647 506.5,866C 544.159,867.678 578.492,858.011 609.5,837C 618.393,829.942 626.06,821.775 632.5,812.5C 632,812.167 631.5,811.833 631,811.5C 610.634,820.434 589.468,826.601 567.5,830C 561.5,830.667 555.5,830.667 549.5,830C 545.818,828.912 542.984,826.746 541,823.5C 540.333,818.833 540.333,814.167 541,809.5C 564.536,726.574 607.369,655.407 669.5,596C 704.543,563.293 743.21,535.627 785.5,513C 739.005,528.496 696.338,551.162 657.5,581C 645.956,591.044 635.289,601.877 625.5,613.5C 620.383,595.585 620.217,577.585 625,559.5C 632.891,532.713 646.224,509.046 665,488.5C 672.11,482.393 678.943,475.893 685.5,469C 726.807,447.361 762.473,418.694 792.5,383C 780.887,388.304 769.22,393.971 757.5,400C 750.025,402.27 742.691,404.936 735.5,408C 727.944,410.353 720.277,412.187 712.5,413.5C 722.439,366.125 742.606,323.792 773,286.5C 781.986,276.845 792.153,268.678 803.5,262C 777.73,265.886 755.397,276.719 736.5,294.5C 747.207,277.958 760.874,264.125 777.5,253C 803.944,236.199 831.944,233.032 861.5,243.5C 839.908,257.259 821.741,274.592 807,295.5C 803.409,301.357 800.909,307.69 799.5,314.5C 821.717,307.112 844.384,301.279 867.5,297C 883.572,294.288 899.572,293.955 915.5,296C 892.375,310.775 870.042,326.775 848.5,344C 839.822,351.335 832.656,359.835 827,369.5C 826.505,371.473 826.338,373.473 826.5,375.5C 854.295,361.059 883.295,349.226 913.5,340C 925.037,336.478 936.704,335.811 948.5,338C 950.327,338.899 951.66,340.233 952.5,342C 927.437,357.051 903.437,373.718 880.5,392C 868.189,402.641 857.689,414.808 849,428.5C 843.304,438.428 842.304,448.761 846,459.5C 846.983,461.448 848.15,463.282 849.5,465C 853.284,466.947 857.284,468.28 861.5,469C 872.142,470.029 882.809,470.696 893.5,471C 864.73,497.439 845.563,529.605 836,567.5C 834.104,578.411 833.104,589.411 833,600.5C 807.908,644.592 772.742,678.092 727.5,701C 721.234,703.135 715.234,705.801 709.5,709C 686.368,711.407 666.034,720.074 648.5,735C 633.705,749.759 625.871,767.592 625,788.5C 636.636,769.194 651.469,752.694 669.5,739C 680.73,732.254 692.73,727.254 705.5,724C 726.934,723.805 748.268,724.471 769.5,726C 780.936,724.313 792.27,721.979 803.5,719C 812.733,715.812 822.066,712.812 831.5,710C 837.135,706.507 843.135,704.174 849.5,703C 814.469,721.503 778.136,736.836 740.5,749C 720.349,750.596 701.349,755.929 683.5,765C 664.641,776.516 652.808,793.016 648,814.5C 634.595,841.495 614.095,860.995 586.5,873C 546.555,882.524 515.055,904.024 492,937.5C 487.984,945.531 483.984,953.531 480,961.5C 474.608,1001.19 486.108,1035.02 514.5,1063C 520.311,1067.42 525.978,1072.08 531.5,1077C 613.783,1126.14 691.116,1182.14 763.5,1245C 778.224,1258.72 792.724,1272.89 807,1287.5C 847.039,1336.38 886.539,1385.71 925.5,1435.5C 922.491,1436.02 919.491,1435.52 916.5,1434C 881.845,1416.67 850.512,1394.67 822.5,1368C 817.882,1365.05 813.548,1361.72 809.5,1358C 787.017,1336.51 765.517,1314.01 745,1290.5C 758.098,1346.13 768.431,1402.46 776,1459.5C 780.999,1498.11 781.666,1536.78 778,1575.5C 776.545,1581.54 774.878,1587.54 773,1593.5C 771.654,1596.87 769.821,1599.87 767.5,1602.5C 759.639,1563.99 751.139,1525.65 742,1487.5C 725.765,1421.72 704.432,1357.72 678,1295.5C 666.775,1270.7 652.775,1247.7 636,1226.5C 629.798,1219.3 622.965,1212.8 615.5,1207C 612.107,1204.47 608.441,1202.8 604.5,1202C 627.159,1257.68 642.326,1315.52 650,1375.5C 650.667,1380.17 650.667,1384.83 650,1389.5C 643.148,1374.34 636.814,1359 631,1343.5C 623.049,1327.24 614.716,1311.24 606,1295.5C 601.336,1288.67 595.836,1282.67 589.5,1277.5C 589.167,1278.17 588.833,1278.83 588.5,1279.5C 601.577,1337.45 607.744,1396.12 607,1455.5C 606.344,1462.76 604.677,1469.76 602,1476.5C 595.5,1459.97 589.5,1443.3 584,1426.5C 577.482,1410.09 570.816,1393.75 564,1377.5C 547.492,1337.5 526.492,1299.83 501,1264.5C 492.288,1254.11 482.122,1245.61 470.5,1239C 466.62,1237.36 462.62,1236.69 458.5,1237C 515.793,1315.74 555.626,1402.91 578,1498.5C 583.878,1523.85 587.544,1549.52 589,1575.5C 574.222,1523.98 554.555,1474.65 530,1427.5C 521.657,1414.96 512.491,1403.12 502.5,1392C 500.695,1391.03 499.028,1389.86 497.5,1388.5C 510.919,1430.85 516.419,1474.51 514,1519.5C 512.761,1528.27 511.094,1536.94 509,1545.5C 495.982,1494.59 476.815,1446.26 451.5,1400.5C 437.376,1376.38 419.043,1356.04 396.5,1339.5C 391.987,1336.9 387.32,1334.9 382.5,1333.5C 383.105,1344.03 384.938,1354.36 388,1364.5C 398.778,1395.39 413.778,1424.06 433,1450.5C 451.038,1483.61 464.372,1518.61 473,1555.5C 474.197,1561.13 474.53,1566.8 474,1572.5C 455.801,1540.76 435.134,1510.76 412,1482.5C 393.104,1460.67 371.604,1442 347.5,1426.5C 365.421,1447.35 374.921,1472.02 376,1500.5C 368.769,1503.95 361.269,1504.45 353.5,1502C 336.99,1496.91 321.324,1489.91 306.5,1481C 300.919,1480.37 296.752,1482.54 294,1487.5C 290.839,1495.45 290.839,1503.45 294,1511.5C 296.088,1517.27 298.255,1522.94 300.5,1528.5C 280.939,1530.68 261.606,1529.52 242.5,1525C 237.648,1522.39 232.648,1520.39 227.5,1519C 255.7,1545.91 279.2,1576.41 298,1610.5C 311.25,1635.34 320.25,1661.68 325,1689.5C 325.667,1693.5 325.667,1697.5 325,1701.5C 292.616,1655.12 254.116,1614.62 209.5,1580C 199.5,1573.33 189.5,1566.67 179.5,1560C 169.198,1555.85 159.198,1551.18 149.5,1546C 146.479,1545.15 143.479,1544.32 140.5,1543.5C 139.798,1571.39 136.965,1599.06 132,1626.5C 129.172,1636.99 125.172,1646.99 120,1656.5C 114.011,1663.36 108.344,1663.03 103,1655.5C 101.644,1652.67 100.144,1650 98.5,1647.5 Z"/></g>
<g><path d="M 98.5,1647.5 C 93.8753,1636.62 90.8753,1625.29 89.5,1613.5C 89.3335,1601.83 89.5001,1590.16 90,1578.5C 91.7511,1564.99 94.2511,1551.66 97.5,1538.5C 100.554,1527.5 103.72,1516.5 107,1505.5C 127.481,1453.21 152.814,1403.21 183,1355.5C 196.804,1332.23 212.804,1310.56 231,1290.5C 270.169,1248.79 314.336,1213.79 363.5,1185.5C 377.709,1180.4 391.042,1173.73 403.5,1165.5C 428.227,1153.28 447.727,1135.28 462,1111.5C 465.446,1104.84 467.446,1097.84 468,1090.5C 436.714,1056.02 426.38,1016.02 437,970.5C 447.385,936.738 459.718,903.738 474,871.5C 498.624,816.922 524.29,762.922 551,709.5C 575.393,650.637 592.726,589.637 603,526.5C 610.141,510.877 618.808,496.21 629,482.5C 643.912,462.918 659.578,443.918 676,425.5C 687.441,386.418 703.107,349.085 723,313.5C 726.587,306.43 731.087,300.097 736.5,294.5C 755.397,276.719 777.73,265.886 803.5,262C 792.153,268.678 781.986,276.845 773,286.5C 742.606,323.792 722.439,366.125 712.5,413.5C 720.277,412.187 727.944,410.353 735.5,408C 742.691,404.936 750.025,402.27 757.5,400C 769.22,393.971 780.887,388.304 792.5,383C 762.473,418.694 726.807,447.361 685.5,469C 678.943,475.893 672.11,482.393 665,488.5C 646.224,509.046 632.891,532.713 625,559.5C 620.217,577.585 620.383,595.585 625.5,613.5C 635.289,601.877 645.956,591.044 657.5,581C 696.338,551.162 739.005,528.496 785.5,513C 743.21,535.627 704.543,563.293 669.5,596C 607.369,655.407 564.536,726.574 541,809.5C 540.333,814.167 540.333,818.833 541,823.5C 542.984,826.746 545.818,828.912 549.5,830C 555.5,830.667 561.5,830.667 567.5,830C 589.468,826.601 610.634,820.434 631,811.5C 631.5,811.833 632,812.167 632.5,812.5C 626.06,821.775 618.393,829.942 609.5,837C 578.492,858.011 544.159,867.678 506.5,866C 485.761,895.647 469.927,927.813 459,962.5C 453.752,981.229 452.419,1000.23 455,1019.5C 458.775,1040.09 469.275,1056.09 486.5,1067.5C 490.271,1080.4 490.438,1093.4 487,1106.5C 476.994,1131.18 460.494,1150.35 437.5,1164C 352.246,1207.23 279.413,1266.07 219,1340.5C 181.83,1391.84 151.163,1446.84 127,1505.5C 108.561,1551.15 99.0613,1598.49 98.5,1647.5 Z"/></g>
<g><path d="M 1096.5,961.5 C 1101.75,961.698 1106.75,961.031 1111.5,959.5C 1125.34,958.174 1139.34,958.174 1153.5,959.5C 1140.84,974.172 1125.17,984.339 1106.5,990C 1074.47,999.699 1041.81,1003.03 1008.5,1000C 1034.14,978.945 1063.48,966.111 1096.5,961.5 Z"/></g>
<g><path d="M 1111.5,959.5 C 1106.75,961.031 1101.75,961.698 1096.5,961.5C 1101.27,960.111 1106.27,959.444 1111.5,959.5 Z"/></g>
<g><path d="M 759.5,963.5 C 747.988,963.172 736.654,963.505 725.5,964.5C 724.957,964.44 724.624,964.107 724.5,963.5C 736.327,962.176 747.993,962.176 759.5,963.5 Z"/></g>
<g><path d="M 759.5,963.5 C 800.423,965.581 837.09,978.915 869.5,1003.5C 864.833,1004.17 860.167,1004.83 855.5,1005.5C 817.791,1007.78 782.125,1000.61 748.5,984C 739.648,978.906 731.982,972.406 725.5,964.5C 736.654,963.505 747.988,963.172 759.5,963.5 Z"/></g>
<g><path d="M 869.5,1003.5 C 870.043,1003.56 870.376,1003.89 870.5,1004.5C 865.544,1005.49 860.544,1005.83 855.5,1005.5C 860.167,1004.83 864.833,1004.17 869.5,1003.5 Z"/></g>
<g><path d="M 403.5,1165.5 C 391.042,1173.73 377.709,1180.4 363.5,1185.5C 363.953,1184.54 364.619,1183.71 365.5,1183C 378.041,1176.88 390.708,1171.04 403.5,1165.5 Z"/></g>
<g><path d="M 97.5,1538.5 C 94.2511,1551.66 91.7511,1564.99 90,1578.5C 89.5001,1590.16 89.3335,1601.83 89.5,1613.5C 87.4865,1592.81 88.6532,1572.14 93,1551.5C 93.8219,1546.81 95.3219,1542.48 97.5,1538.5 Z"/></g>
</svg>

      </div>

      {showText && (
        <div className="independence-text">
          Happy Independence Day <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <small>By,</small>
          <br />
          <small>Anandhu Asokan S</small>
        </div>
      )}
    </div>
  );
}
